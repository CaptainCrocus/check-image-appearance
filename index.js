const { checkImage } = require('./checkimage')
const jsonStr = '{\r\n        \"Records\": [\r\n            {\r\n                \"eventVersion\": \"2.0\",\r\n                \"eventSource\": \"aws:s3\",\r\n                \"awsRegion\": \"us-west-2\",\r\n                \"eventTime\": \"2016-10-15T18:22:07.147Z\",\r\n                \"eventName\": \"ObjectCreated:Put\",\r\n                \"userIdentity\": {\r\n                    \"principalId\": \"AWS:AROAJNGVUPFLMY2F:CognitoIdentityCredentials\"\r\n                },\r\n                \"requestParameters\": {\r\n                    \"sourceIPAddress\": \"91.122.3.0\"\r\n                },\r\n                \"responseElements\": {\r\n                    \"x-amz-request-id\": \"3AB9C77FA5D9AE\",\r\n                    \"x-amz-id-2\": \"oXuQwUexIwzo6\/1SrUqqbDwP3O5hfWzZtmVBnzvfp5BCe0KFTZZR4qmcriAvw52+I2woS9W4=\"\r\n                },\r\n                \"s3\": {\r\n        \"s3SchemaVersion\": \"1.0\",\r\n        \"configurationId\": \"FileUploaded\",\r\n        \"bucket\": {\r\n            \"name\": \"screenshots.snap.menu\",\r\n            \"ownerIdentity\": {\r\n                \"principalId\": \"A1XPXYBRNAR\"\r\n            },\r\n            \"arn\": \"arn:aws:s3:::screenshots.snap.menu\"\r\n        },\r\n        \"object\": {\r\n            \"key\": \"screenshot\/25db87f4-4a9b-428b-b42c-391197d5a433\/c0389474-4c55-4029-ae1a-6025a62288ad\",\r\n            \"size\": 14441,\r\n            \"eTag\": \"d6c9d7d3ce587c70393a512cf3f24\",\r\n            \"sequencer\": \"005A71B44C6CAC54\"\r\n        }\r\n    }\r\n            }\r\n        ]\r\n    }'

checkImage(jsonStr)
  .then( res => {
    console.log(res)
  });
